```yaml
##################################################################################################\n# Mysql db services\n##################################################################################################\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: mysql-credentials\n  namespace: travel-agency\ntype: Opaque\ndata:\n  rootpasswd: cGFzc3dvcmQ=\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: mysqldb\n  labels:\n    app: mysqldb\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - port: 3306\n      name: tcp\n  selector:\n    app: mysqldb\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: mysqldb-v1\n  labels:\n    app: mysqldb\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n    version: v1\n  namespace: travel-agency\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: mysqldb\n      version: v1\n  template:\n    metadata:\n      labels:\n        app: mysqldb\n        version: v1\n    spec:\n      containers:\n        - name: mysqldb\n          image: quay.io/kiali/demo_travels_mysqldb:v1\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 3306\n          env:\n            - name: MYSQL_ROOT_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: mysql-credentials\n                  key: rootpasswd\n          args: ["--default-authentication-plugin","mysql_native_password"]\n          volumeMounts:\n            - name: var-lib-mysql\n              mountPath: /var/lib/mysql\n      volumes:\n        - name: var-lib-mysql\n          emptyDir: {}\n---\n##################################################################################################\n# Cars services\n##################################################################################################\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: cars-v1\n  namespace: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\nspec:\n  selector:\n    matchLabels:\n      app: cars\n      version: v1\n  replicas: 1\n  template:\n    metadata:\n      annotations:\n        readiness.status.sidecar.istio.io/applicationPorts: ""\n        proxy.istio.io/config: |\n          tracing:\n            zipkin:\n              address: zipkin.istio-system:9411\n            sampling: 10\n            custom_tags:\n              http.header.portal:\n                header:\n                  name: portal\n              http.header.device:\n                header:\n                  name: device\n              http.header.user:\n                header:\n                  name: user\n              http.header.travel:\n                header:\n                  name: travel\n      labels:\n        app: cars\n        version: v1\n    spec:\n      containers:\n        - name: cars\n          image: quay.io/kiali/demo_travels_cars:v1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "10m"\n              memory: "5Mi"\n            limits:\n              cpu: "50m"\n              memory: "20Mi"\n          ports:\n            - containerPort: 8000\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n              - ALL\n            privileged: false\n            readOnlyRootFilesystem: true\n          env:\n            - name: CURRENT_SERVICE\n              value: "cars"\n            - name: CURRENT_VERSION\n              value: "v1"\n            - name: LISTEN_ADDRESS\n              value: ":8000"\n            - name: DISCOUNTS_SERVICE\n              value: "http://discounts.travel-agency:8000"\n            - name: MYSQL_SERVICE\n              value: "mysqldb.travel-agency:3306"\n            - name: MYSQL_USER\n              value: "root"\n            - name: MYSQL_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: mysql-credentials\n                  key: rootpasswd\n            - name: MYSQL_DATABASE\n              value: "test"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: cars\n  labels:\n    app: cars\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: cars\n---\n##################################################################################################\n# Discounts services\n##################################################################################################\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: discounts-v1\n  namespace: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\nspec:\n  selector:\n    matchLabels:\n      app: discounts\n      version: v1\n  replicas: 1\n  template:\n    metadata:\n      annotations:\n        readiness.status.sidecar.istio.io/applicationPorts: ""\n        proxy.istio.io/config: |\n          tracing:\n            zipkin:\n              address: zipkin.istio-system:9411\n            sampling: 10\n            custom_tags:\n              http.header.portal:\n                header:\n                  name: portal\n              http.header.device:\n                header:\n                  name: device\n              http.header.user:\n                header:\n                  name: user\n              http.header.travel:\n                header:\n                  name: travel\n      labels:\n        app: discounts\n        version: v1\n    spec:\n      containers:\n        - name: discounts\n          image: quay.io/kiali/demo_travels_discounts:v1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "10m"\n              memory: "5Mi"\n            limits:\n              cpu: "50m"\n              memory: "20Mi"\n          ports:\n            - containerPort: 8000\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n              - ALL\n            privileged: false\n            readOnlyRootFilesystem: true\n          env:\n            - name: CURRENT_SERVICE\n              value: "discounts"\n            - name: CURRENT_VERSION\n              value: "v1"\n            - name: LISTEN_ADDRESS\n              value: ":8000"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: discounts\n  labels:\n    app: discounts\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: discounts\n---\n##################################################################################################\n# Flights services\n##################################################################################################\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: flights-v1\n  namespace: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\nspec:\n  selector:\n    matchLabels:\n      app: flights\n      version: v1\n  replicas: 1\n  template:\n    metadata:\n      annotations:\n        readiness.status.sidecar.istio.io/applicationPorts: ""\n        proxy.istio.io/config: |\n          tracing:\n            zipkin:\n              address: zipkin.istio-system:9411\n            sampling: 10\n            custom_tags:\n              http.header.portal:\n                header:\n                  name: portal\n              http.header.device:\n                header:\n                  name: device\n              http.header.user:\n                header:\n                  name: user\n              http.header.travel:\n                header:\n                  name: travel\n      labels:\n        app: flights\n        version: v1\n    spec:\n      containers:\n        - name: flights\n          image: quay.io/kiali/demo_travels_flights:v1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "250m"\n              memory: "50Mi"\n            limits:\n              cpu: "500m"\n              memory: "100Mi"\n          ports:\n            - containerPort: 8000\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n              - ALL\n            privileged: false\n            readOnlyRootFilesystem: true\n          env:\n            - name: CURRENT_SERVICE\n              value: "flights"\n            - name: CURRENT_VERSION\n              value: "v1"\n            - name: LISTEN_ADDRESS\n              value: ":8000"\n            - name: DISCOUNTS_SERVICE\n              value: "http://discounts.travel-agency:8000"\n            - name: MYSQL_SERVICE\n              value: "mysqldb.travel-agency:3306"\n            - name: MYSQL_USER\n              value: "root"\n            - name: MYSQL_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: mysql-credentials\n                  key: rootpasswd\n            - name: MYSQL_DATABASE\n              value: "test"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: flights\n  labels:\n    app: flights\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: flights\n---\n##################################################################################################\n# Hotels services\n##################################################################################################\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: hotels-v1\n  namespace: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\nspec:\n  selector:\n    matchLabels:\n      app: hotels\n      version: v1\n  replicas: 1\n  template:\n    metadata:\n      annotations:\n        readiness.status.sidecar.istio.io/applicationPorts: ""\n        proxy.istio.io/config: |\n          tracing:\n            zipkin:\n              address: zipkin.istio-system:9411\n            sampling: 10\n            custom_tags:\n              http.header.portal:\n                header:\n                  name: portal\n              http.header.device:\n                header:\n                  name: device\n              http.header.user:\n                header:\n                  name: user\n              http.header.travel:\n                header:\n                  name: travel\n      labels:\n        app: hotels\n        version: v1\n    spec:\n      containers:\n        - name: hotels\n          image: quay.io/kiali/demo_travels_hotels:v1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "10m"\n              memory: "5Mi"\n            limits:\n              cpu: "50m"\n              memory: "20Mi"\n          ports:\n            - containerPort: 8000\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n              - ALL\n            privileged: false\n            readOnlyRootFilesystem: true\n          env:\n            - name: CURRENT_SERVICE\n              value: "hotels"\n            - name: CURRENT_VERSION\n              value: "v1"\n            - name: LISTEN_ADDRESS\n              value: ":8000"\n            - name: DISCOUNTS_SERVICE\n              value: "http://discounts.travel-agency:8000"\n            - name: MYSQL_SERVICE\n              value: "mysqldb.travel-agency:3306"\n            - name: MYSQL_USER\n              value: "root"\n            - name: MYSQL_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: mysql-credentials\n                  key: rootpasswd\n            - name: MYSQL_DATABASE\n              value: "test"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: hotels\n  labels:\n    app: hotels\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: hotels\n---\n##################################################################################################\n# Insurances services\n##################################################################################################\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: insurances-v1\n  namespace: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\nspec:\n  selector:\n    matchLabels:\n      app: insurances\n      version: v1\n  replicas: 1\n  template:\n    metadata:\n      annotations:\n        readiness.status.sidecar.istio.io/applicationPorts: ""\n      labels:\n        app: insurances\n        version: v1\n    spec:\n      containers:\n        - name: insurances\n          image: quay.io/kiali/demo_travels_insurances:v1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "10m"\n              memory: "5Mi"\n            limits:\n              cpu: "50m"\n              memory: "20Mi"\n          ports:\n            - containerPort: 8000\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n              - ALL\n            privileged: false\n            readOnlyRootFilesystem: true\n          env:\n            - name: CURRENT_SERVICE\n              value: "insurances"\n            - name: CURRENT_VERSION\n              value: "v1"\n            - name: LISTEN_ADDRESS\n              value: ":8000"\n            - name: DISCOUNTS_SERVICE\n              value: "http://discounts.travel-agency:8000"\n            - name: MYSQL_SERVICE\n              value: "mysqldb.travel-agency:3306"\n            - name: MYSQL_USER\n              value: "root"\n            - name: MYSQL_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: mysql-credentials\n                  key: rootpasswd\n            - name: MYSQL_DATABASE\n              value: "test"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: insurances\n  labels:\n    app: insurances\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: insurances\n---\n##################################################################################################\n# Travels services\n##################################################################################################\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: travels-v1\n  namespace: travel-agency\n  labels:\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\nspec:\n  selector:\n    matchLabels:\n      app: travels\n      version: v1\n  replicas: 1\n  template:\n    metadata:\n      annotations:\n        readiness.status.sidecar.istio.io/applicationPorts: ""\n        proxy.istio.io/config: |\n          tracing:\n            zipkin:\n              address: zipkin.istio-system:9411\n            sampling: 10\n            custom_tags:\n              http.header.portal:\n                header:\n                  name: portal\n              http.header.device:\n                header:\n                  name: device\n              http.header.user:\n                header:\n                  name: user\n              http.header.travel:\n                header:\n                  name: travel\n      labels:\n        app: travels\n        version: v1\n    spec:\n      containers:\n        - name: travels\n          image: quay.io/kiali/demo_travels_travels:v1\n          imagePullPolicy: IfNotPresent\n          resources:\n            requests:\n              cpu: "10m"\n              memory: "5Mi"\n            limits:\n              cpu: "50m"\n              memory: "20Mi"\n          ports:\n            - containerPort: 8000\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop:\n              - ALL\n            privileged: false\n            readOnlyRootFilesystem: true\n          env:\n            - name: CURRENT_SERVICE\n              value: "travels"\n            - name: CURRENT_VERSION\n              value: "v1"\n            - name: LISTEN_ADDRESS\n              value: ":8000"\n            - name: FLIGHTS_SERVICE\n              value: "http://flights.travel-agency:8000"\n            - name: HOTELS_SERVICE\n              value: "http://hotels.travel-agency:8000"\n            - name: CARS_SERVICE\n              value: "http://cars.travel-agency:8000"\n            - name: INSURANCES_SERVICE\n              value: "http://insurances.travel-agency:8000"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: travels\n  labels:\n    app: travels\n    app.kubernetes.io/name: travel-agency\n    app.kubernetes.io/instance: travel-agency\n  namespace: travel-agency\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: travels\n---\n```